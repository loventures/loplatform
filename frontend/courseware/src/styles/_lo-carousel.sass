/*!
 / LO Platform copyright (C) 2007â€“2025 LO Ventures LLC.
 /
 / This program is free software: you can redistribute it and/or modify
 / it under the terms of the GNU Affero General Public License as published by
 / the Free Software Foundation, either version 3 of the License, or
 / (at your option) any later version.
 /
 / This program is distributed in the hope that it will be useful,
 / but WITHOUT ANY WARRANTY; without even the implied warranty of
 / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 / GNU Affero General Public License for more details.
 /
 / You should have received a copy of the GNU Affero General Public License
 / along with this program.  If not, see <http://www.gnu.org/licenses/>.
 /

@use 'sass:math'

.content-carousel-container
  background: multiply_color($color-dark, 2)
  border-radius: $border-radius
  margin: 1em 0
  overflow: hidden

  @media (max-width: $smscreen)
    padding: 0.75em

  .content-carousel
    padding: 1em 0 0.5em

  .carousel-vh-image
    width: 100%
    height: 67vh

    //Having the height on the containing div preserves the image scaling, if you put the height
    //directly on the image it will screw with the ratios really badly.
    img
      display: block
      max-width: 100%
      max-height: 100%
      width: auto
      height: auto
      object-fit: cover
      object-position: cover
      margin: 0 auto
      padding: 0

  .carousel-control
    background: rgba(0,0,0,0.25)
    width: 5%
    transition: background ease $trans-speed

    &:hover
      background: rgba(0,0,0,0.75)
      cursor: pointer
      opacity: 0.75

    > span
      color: $color-white
      text-shadow: 0 1px 2px rgba(0,0,0,0.85)

  .carousel-indicators
    display: none

  .carousel-title
    color: #ffffff
    width: 100%
    font-size: 1.33em
    margin: 0 0 0.5em 0
    text-align: center

  .carousel-caption-wrap
    display: inline-block
    width: calc(100% - 3em)
    text-align: center
    padding: 0.25em 1.5em 2em

    .carousel-caption
      position: relative
      padding: 0
      color: $color-white
      left: auto
      right: auto
      top: auto
      bottom: auto

.content-carousel-thumbs
  padding: 0.5em 1em 1em
  display: inline-block
  max-width: calc(100% - 2em)

  @media (max-width: $lgscreen)
    font-size: 0.925em

  @media (max-width: $mdscreen)
    font-size: 0.85em

  @media (max-width: $smscreen)
    font-size: 0.67em

  @media (max-width: $xsscreen)
    font-size: 0.485em

  .content-carousel-thumb
    float: left
    margin-right: 1.25em

    &.active img
      border-color: $color-contrasted-accent
      opacity: 1

    img
      object-fit: cover
      object-position: center
      height: 5em
      width: 7.5em
      margin: 0
      background: none
      border: 2px solid fade-out($color-white, 0.5)
      background: none
      border-radius: math.div($border-radius, 1.67)
      padding: 0
      box-shadow: 0 1px 2px rgba(0,0,0,0.5)
      opacity: 0.5
      transition: all ease $trans-speed

      &:hover
        cursor: pointer
        opacity: 1
