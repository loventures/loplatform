<!--
  ~ LO Platform copyright (C) 2007â€“2025 LO Ventures LLC.
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="question final-project-question">
  <div
    class="alert alert-primary"
    ng-if="$ctrl.isPendingGrade"
  >
    <i
      role="presentation"
      class="material-icons"
      >pending_actions</i
    >
    <span
      id="assignment-grade-pending"
      translate="ASSIGNMENT_GRADE_PENDING"
    ></span>
  </div>

  <view-composite-grade
    ng-if="$ctrl.grade"
    grade="$ctrl.grade"
  ></view-composite-grade>

  <div
    class="essay-question-play"
    ng-if="$ctrl.canEditAnswer"
  >
    <rich-text-editor
      content="$ctrl.textSelection"
      on-change="$ctrl.updateResponseText"
    ></rich-text-editor>
  </div>

  <div
    class="card"
    ng-if="!$ctrl.canEditAnswer"
  >
    <div
      class="card-body essay-response-text"
      ng-if="!!$ctrl.textSelection"
      bind-math="$ctrl.textSelection"
    ></div>
  </div>

  <div
    class="final-project-upload mt-3"
    ng-if="$ctrl.canEditAnswer"
  >
    <h3 translate="Upload your work"></h3>
    <project-upload-tool feedback-manager="$ctrl.feedbackManager"></project-upload-tool>
  </div>

  <project-file-list
    feedback-manager="$ctrl.feedbackManager"
    can-edit-files="$ctrl.canEditAnswer"
  ></project-file-list>
</div>
